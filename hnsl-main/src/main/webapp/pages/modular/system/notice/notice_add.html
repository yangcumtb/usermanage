@layout("/common/_form.html",{js:["/assets/modular/system/notice/notice_add.js"],plugins:["ue"]}){
<style>
    html{
        font-size: 1px;
    }
</style>
<form class="layui-form" id="noticeForm" lay-filter="noticeForm">
    <div class="layui-fluid" style="padding-bottom: 70px;">
        <div class="layui-card">
            <div class="layui-card-body">
                <div class="layui-form-item layui-row">
                    <input name="noticeId" type="hidden"/>
                    <div class="layui-inline layui-col-md6">
                        <label class="layui-form-label layui-form-required">通知标题:</label>
                        <div class="layui-input-block">
                            <input name="noticeTitle" placeholder="请输入通知标题" type="text" class="layui-input"
                                   lay-verify="required" lay-verType="tips" required autocomplete="off"/>
                        </div>
                    </div>
                    <div class="layui-inline layui-col-md6">
                        <label class="layui-form-label layui-form-required">消息类型:</label>
                        <div class="layui-input-block">
                            <tag:dict_select id="type" name="type" type="select" head-type="2" head-name=""
                                             head-value="" default-value="" dict-type-code="MESSAGE_TYPE"
                                             lay-verify="required" lay-verType="tips">
                            </tag:dict_select>
                        </div>
                    </div>

                    <div class="layui-inline layui-col-md6">
                        <label class="layui-form-label layui-form-required">开始时间:</label>
                        <div class="layui-input-block">
                            <input name="noticeBeginTime" placeholder="请输入开始时间" type="text"
                                   class="layui-input date-icon date-input" lay-verify="required" lay-verType="tips" required
                                   autocomplete="off"/>
                        </div>
                    </div>
                    <div class="layui-inline layui-col-md6">
                        <label class="layui-form-label layui-form-required">结束时间:</label>
                        <div class="layui-input-block">
                            <input name="noticeEndTime" placeholder="请输入结束时间" type="text"
                                   class="layui-input date-icon date-input" lay-verify="required" lay-verType="tips" required
                                   autocomplete="off"/>
                        </div>
                    </div>

                    <div class="layui-inline layui-col-md6">
                        <label class="layui-form-label">通知优先级:</label>
                        <div class="layui-input-block">

                            <tag:dict_select id="priorityLevel" name="priorityLevel" type="select" head-type="2"
                                             head-name="" head-value="" default-value="" dict-type-code="priority_level">
                            </tag:dict_select>
                        </div>
                    </div>

                    <div class="layui-inline layui-col-md6">
                        <label class="layui-form-label layui-form-required">通知范围:</label>
                        <div class="layui-input-block">
                            <select id="noticeScopeSelect" name="noticeScope" lay-verify="required" lay-verType="tips"
                                    lay-filter="noticeScopeFilter">
                                <option value="all">全部用户</option>
                                <option value="select">指定用户</option>
                            </select>
                        </div>
                    </div>

                    <div class="layui-inline layui-col-md6">
                        <label class="layui-form-label layui-form-required">发布单位:</label>
                        <div class="layui-input-block">
                            <input name="sendUnit" placeholder="请输入发布单位" type="text" class="layui-input"
                                   lay-verify="required" lay-verType="tips" required autocomplete="off" value="${sendUnit}"/>
                        </div>
                    </div>


                    <div id="userSelectDiv" class="layui-inline layui-col-md6" style="display: none;">
                        <label class="layui-form-label">用户选择:</label>
                        <div class="layui-input-block ">
                            <input id="userIds" name="userIds" hidden/>
                            <div class="layui-input  fairy-tag-container" id="userPicker">
                                <input id="userName" type="text" class="fairy-tag-input tag1" autocomplete="off" value="" placeholder="点击选择用户" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="layui-inline layui-col-md12">
                        <label class="layui-form-label">通知摘要:</label>
                        <div class="layui-input-block">
                            <textarea id="noticeSummary" name="noticeSummary" placeholder="请输入通知摘要"
                                      class="layui-textarea layext-text-tool"
                                      lay-verify="required" lay-verType="tips" required></textarea>
                        </div>
                    </div>

                    <div class="layui-inline layui-col-md12">
                        <label class="layui-form-label">通知内容:</label>
                        <div class="layui-input-block">
                            <script id="container" name="noticeContent" type="text/plain"></script>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group-bottom text-right">
        <button class="layui-btn" lay-filter="btnSubmit" lay-submit style="background-color: #33549988">&emsp;提交&emsp;</button>
        <button id="cancel" type="button" class="layui-btn layui-btn-primary" ew-event="closeDialog">&emsp;取消&emsp;
        </button>
    </div>
</form>
<script>
    function handleResize() {
        var htmlWidth = document.documentElement.clientWidth || document.body.clientWidth
        let htmlDom = document.getElementsByTagName('html')[0]
        htmlDom.style.fontSize = 1 / 1850 * htmlWidth + 'px' +
            '';
    }
    handleResize();
    window.onresize = handleResize;
</script>
@}